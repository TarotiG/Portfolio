@page
@using System.Text.Encodings.Web
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}
<section id="projects" class="py-16 bg-gray-900">
    <div class="max-w-6xl mx-auto px-6">
        <h3 class="text-3xl font-semibold mb-8">📁 Uitgelichte Projecten</h3>
        <div id="list-projecten" class="grid md:grid-cols-2 gap-8">
            @foreach (var project in Model.Projecten)
            {
                var descriptionProj = JavaScriptEncoder.Default.Encode(project.Description);
                <div class="bg-gray-800 p-6 rounded-lg shadow-md">
                    <h4 class="text-xl font-bold">@project.Name</h4>
                    <p class="text-gray-400 mt-2">@project.Description</p>
                    <a href="#" class="text-blue-400 hover:underline mt-2 inline-block" onclick="loadProject('@descriptionProj')">Bekijk project →</a>
                </div>
            }
        </div>
    </div>
</section>
<section>
    <hr/>
    <div id="demo-project" hidden>
        <h4 id="project-name"></h4>
        <p id="project-desc"></p>
        <iframe id="project-iframe" src="/projecten/mock-website/home.html" style="width:100%; height:600px; border:1px solid #ccc;"></iframe>
    </div>
</section>

@section Scripts {
    <script>
        function loadProject(description) {
            document.getElementById('demo-project').hidden = false;
            document.getElementById('demo-project').style.display = "block";
            document.getElementById('project-desc').textContent = description;
            document.getElementById('project-iframe').display = "block";
        }
    </script>
}